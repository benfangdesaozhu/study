经典问题：输入url会发生什么。从详细的说

1、DNS（应用层协议）的域名解析；DNS是将主机名解析为ip地址：

    DNS解析的查询步骤：（DNS服务器是小明；根域名叫根;顶级域名服务器叫顶级；权威域名服务器叫权威）
        1、当输入www.test.con并点击回车，DNS解析器开始解析
        2、先向host文件查询，看是否由缓存，由缓存的直接取，没有，则会向根域名发起查询请求
        3、小明去找根（根是固定的14个）、说test.com（顶级）的IP地址是哪个呀。根查了以下，会把对应的地址给到小明
        4、小明拿到根给的顶级的地址，找到顶级说。权威的地址在哪你知道吗？顶级查了下说，我知道，就把顶级的地址给到小明
        5、小明拿到顶级给的权威的地址，找到权威，说，你知道目标地址是哪个吗？权威查了下说，给你。
        6、小明拿到权威给的地址，便把地址给到客户端。
2、建立连接TCP（三次握手、四次挥手）

    1、三次握手

        1）：客户端把SYN=1(同步序列号)；seq=x 给到服务端

        2）：服务端收到SYN=1;seq=x，然后发送SYN=1;ACK=1;ack=x+a;seq=y给客户端

        3）：客户端收到服务端给的SYN=1;ACK=1;ack=x+a;seq=y校验之后，给客户端发送ACK=1;seq=x+1;ack=y+
        
    2、四次挥手

        1）：客户端FIN=1,seq=x发送给服务端
        2）：服务端收到终端请求后，先给客户端发送ACK=1,seq=y,ack=x+1
        3）：接着再发送FIN=1,ACK=1,seq=w,ack=u+1给客户端
        4）：客户端接收到后，ACK=1,ack=w+1,seq=x+1给服务端停止

    为什么连接要三次、断开要四次；可以用两个工人，中间隔了一堵墙，要同步干一些事（客户端:工人A,服务端：工人B）因为看不见，所以需要对话来实现同步

    三次握手：

    A:B你准备好了
    B:听到A了之后，B回应到，A我也准备好了
    A:那开始吧

    如果是二次（第一第二步骤），就会导致，不确定A有没有准备好，B行动，导致A没同步

    如果是四次（第二部拆分：我听到了，我准备好了）；tcp每一次连一次连接都是耗时的。没必要多耗一步

    四次挥手：

    A: B你准备好了吗？我要结束了
    B: 我听到了,我这还有点没整好
    B: 我整好了A
    A: 好的。

    如果B不分两部，B事情有点多，一直闷不做声的做，导致A很懵逼，就会一直说，B好了没好了没

3、发起http请求

    http: 超文本传输协议（点于点之间传输文本、图片、视频等的应用层协议）

    http特点： 无状态、简单、可扩展

    http组成：请求报文和响应报文（不论是请求报文还是响应报文都由起始行、首部、实体组成）

    请求报文：
        请求行： 请求方法(get、post、put、delete等)；请求地址url;请求版本号（HTTP1.0、http1.1、http2、https）
        响应行： 响应状态码、http版本

        get和post的区别（）
        
            get（获取数据）：有对数据长度限制、直接展示在链接上，以?分割，&拼接数据，不安全；
            post（提交数据）: 对数据没限制限制（请求数据放在body里）、安全

        HTTP1.0、http1.1、http2、https

            HTTP1.0、http1.1的区别：

                缓存的添加。
                http1.0有expries和pragma
                http1.1添加了cache-control和ETag

                http1.1增加了长连接（默认开启）：1.0每一个资源都需要建立链接和断开连接，才能进行下一个请求
                1.1
            
            http1.1、http2的区别：

                传输方式：1.1是文本； 2 是二进制。

                http2的多路复用：多路复用相当于。建立一个tcp连接，可以同时收发多个资源。这个数据的安全基于，每一个数据帧都有对应的流的id。

                服务端push

            http和https的区别：

                https协议需要CA证书，一般是收费的。
                http是明文传递；https是http+ssl/Tls具有安全性的加密传输协议
                http和https的默认端口不一样；http是80；https是443

                    https采用对称加密和非对称加密结合的方式来保证通信的安全。

                    对称加密算法加密数据+非对称加密算法交互密钥+数字证书验证安全 = 安全

                        https的请求中，经过三次握手建立连接之后
                        1、客户端发起服务端数据请求
                        2、服务端（有CA证书。CA证书包括了公钥和私钥）会将CA证书的私钥给到客户端
                        3、客户端拿到CA证书之后，进行验证证书是否有效，有效的话，则生成一个随机数，并用公钥加密这个随机数，然后将加密后的密钥发送给服务端
                        4、服务端使用私钥解密密钥，然后用公钥加密数据发送给客户端
                        5、客户端使用私钥解密数据。


            响应状态码：

                1** 
                2**：成功
                    200：成功
                    206：部分成功
                3**：重定向
                    301： 永久重定向
                    302： 临时重定向
                    304： 从缓存服务器中取资源
                4**：客户端的一些错误
                    403：拒绝或者禁止访问
                    404：没有找到对应的url
                5**: 服务端的一些错误
                    502：网关或代理服务器出错

            浏览器缓存：

                http1.0 存在pargma、exprise
                http1 增加：cache-control、ETag

                如果存在pargma:no-cache则直接从服务器重新拉取资源

                然后看cache-control和exprise是否在缓存时间内（cache-control优先级大于exprise）存在：200

                不存在则取看客户端发送的首部if-none-match/if-match是否和ETag一致，如果一致304.

                也可以看客户端发送的首部if-modified-sice的时间是否在last-modified的时间内：如果存在，则304

